<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <Title>Wave 1 Sunburst</Title>
    <script src="//d3js.org/d3.v3.min.js"></script>
    <link rel="stylesheet" href="../css/sunburst_bilevel.css">
    <link rel="stylesheet" href="../css/general.css">
    <script type="text/javascript" src="../js/sunburst_bilevel_partition.js"></script>
    <script type="text/javascript" src="../js/linked_button.js"></script>
    <style>
        .legends5 {
            float:left;
            margin-right: 1em;
        }

    </style>

</head>
<body>

<div class="legend4">
    <script>

//        var margin = {top: 350, right: 480, bottom: 350, left: 480};
        var legendVals2 = ["Daily Activities", "General Health", "Access to Healthcare", "Tobacco"];
        var color = d3.scale.ordinal()
            .domain(legendVals2)
            .range(["#FE812A", "#30A033", "#D42E31", "#9367BB" ]);
//        Modularize here
        function drawLegend(legValsIn, colorIn, divClassIn, offSetIn) {
        var width = 960; //Make parameter
        var height = 80; //Make parameter

        var svgLegned4 = d3.select(divClassIn).append("svg")
            .attr("width", width)
            .attr("height", height - 50);

        var dataL = 0;
        var offset = offSetIn; //Make parameter

        var legend4 = svgLegned4.selectAll('.legends4')
            .data(legValsIn)
            .enter().append('g')
            .attr("class", "legends4")
            .attr("transform", function (d, i) {
                if (i === 0) {
                    dataL = d.length + offset;
                    console.log(d.length);
                    return "translate(0,0)"
                } else {
                    var newdataL = dataL;
                    console.log(d.length);
                    dataL +=  d.length + offset;
                    return "translate(" + (newdataL) + ",0)"
                }
            });

        legend4.append('rect')
            .attr("x", 0)
            .attr("y", 5)
            .attr("width", 10)
            .attr("height", 10)
            .style("fill", function (d, i) {
                return colorIn(i)
            });

        legend4.append('text')
            .attr("x", 20)
            .attr("y", 10)
            .attr("dy", ".35em")
            .text(function (d, i) {
                return d
            })
            .attr("class", "textselected")
            .style("text-anchor", "start")
            .style("font-size", 15)
        }
        drawLegend(legendVals2, color, ".legend4", 270);
    </script>

</div>

<div>
    <svg id="wave1"></svg>
    <script>
        drawSuburstBilevelPartition("../data/wave1.json", "#wave1");
    </script>
</div>

<div>
    <svg id="button"></svg>
    <script>
        drawLinkedButton("#button", 960, 200, 100, 200, "wave1placeholder.html", "Explore Wave 1");
    </script>
</div>


</body>
</html>